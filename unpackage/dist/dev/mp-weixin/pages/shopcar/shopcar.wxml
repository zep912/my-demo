<view class="shopCar"><block wx:if="{{list.length==0}}"><empty vue-id="1" src="{{src}}" msg="{{msg}}" bind:__l="__l"></empty></block><block wx:if="{{list.length!=0}}"><view class="shopcar-goods"><view class="shopcar-title"><view class="shopcar-title-text">你购物车共<text class="shopcar-titleTxt-color">{{list.length}}</text>件商品</view><view data-event-opts="{{[['tap',[['edit',['$event']]]]]}}" class="edit" bindtap="__e">{{update}}</view></view><view class="shopcar-wares"><view class="shopcar-check"><van-checkbox vue-id="2" value="{{checked}}" custom-class="checkbox" checked-color="#F7B62C" data-event-opts="{{[['^change',[['onChangeAll',['$0','$1'],['item.deleteStatus','index']]]]]}}" data-com-type="wx" bind:change="__e" bind:__l="__l"></van-checkbox><view class="shopcar-shopTitle"><view class="shopcar-check-shops"><image class="shopLogo _img" src="{{$root.m0}}" alt></image><text class="title">麦田圈官方旗舰店</text></view><view class="shopCar-icon"><van-icon vue-id="3" name="arrow" data-com-type="wx" bind:__l="__l"></van-icon></view></view></view><block wx:for="{{$root.l0}}" wx:for-item="item" wx:for-index="index"><view class="shopcar-sp"><view style="display:flex;align-items:center;"><van-checkbox vue-id="{{'4-'+index}}" value="{{item.$orig.deleteStatus==0?false:true}}" custom-class="checkbox-sp" checked-color="#F7B62C" data-event-opts="{{[['^change',[['singleOnChange',['$0',index,'$1'],[[['list','',index,'deleteStatus']],[['list','',index,'id']]]]]]]}}" data-com-type="wx" bind:change="__e" bind:__l="__l"></van-checkbox></view><view class="shopcar-sp-titles"><view class="shopcar-sp-mj"><view class="mj"><block wx:if="{{item.$orig.promotionMessage!='无优惠'?true:false}}"><text class="mj-text"><text class="shopcar-sp-titleColor">{{item.m1[0]}}</text><text>{{item.m2[1]}}</text></text></block></view><view class="shopcar-goods-info"><image src="{{item.$orig.productPic?item.$orig.productPic:'../../static/goods.png'}}" mode></image><view class="shopcar-goods-infoes"><view class="shopcar-goodsinfo_one">{{item.$orig.productName}}</view><view data-event-opts="{{[['tap',[['changeAttr',['$0'],[[['list','',index,'productId']]]]]]]}}" class="shopcar-goodsinfo_two" bindtap="__e">规格：<text>{{item.$orig.sp1}}</text><text>{{item.$orig.sp2}}</text></view><view class="shopcar-goodsinfo_three"><text>{{"￥"+(item.$orig.price?item.$orig.price:'暂无报价')}}</text><text>￥999</text></view><view class="shopcar-add"><text>仅剩<text>{{item.$orig.realStock}}</text>件</text><view class="add"><text data-event-opts="{{[['tap',[['minus',['$0',index,'$1','$2'],[[['list','',index]],[['list','',index,'id']],[['list','',index,'realStock']]]]]]]}}" class="add-radius minus" bindtap="__e">-</text><text>{{item.$orig.quantity}}</text><text data-event-opts="{{[['tap',[['add',['$0',index,'$1','$2'],[[['list','',index]],[['list','',index,'id']],[['list','',index,'realStock']]]]]]]}}" class="add-radius plus" bindtap="__e">+</text></view></view></view></view><view data-event-opts="{{[['tap',[['editPrefe',['$event']]]]]}}" class="shopcar-discount" bindtap="__e">修改优惠</view></view></view></view></block></view></view></block><block wx:if="{{list.length!=0}}"><view class="foot"><view class="foot-left"><van-checkbox vue-id="5" value="{{checkeds}}" custom-class="checkbox-sp" checked-color="#F7B62C" data-event-opts="{{[['^change',[['allSlect']]]]}}" data-com-type="wx" bind:change="__e" bind:__l="__l" vue-slots="{{['default']}}">全选</van-checkbox><block wx:if="{{!deleShow}}"><view class="foot-total-price"><view class="foot-total-top"><text>合计:</text><text>{{total==0?0:'￥'+total}}</text></view><view class="foot-totla-bottom"><text>已优惠</text><text>￥998.90</text></view></view></block></view><block wx:if="{{!deleShow}}"><view data-event-opts="{{[['tap',[['payGoods',['$event']]]]]}}" class="foot-btn" bindtap="__e"><text>去结算<text>{{"（"+allNum+"）"}}</text></text></view></block><block wx:if="{{deleShow}}"><view data-event-opts="{{[['tap',[['deleteGoods',['$event']]]]]}}" class="foot-dele" bindtap="__e"><text>删除</text></view></block></view></block></view>