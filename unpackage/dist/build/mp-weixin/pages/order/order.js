(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/order/order"],{"50af":function(t,e,a){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;r(a("8d7c"));var n=r(a("38f8"));function r(t){return t&&t.__esModule?t:{default:t}}var o=function(){return a.e("components/uni-load-more/uni-load-more").then(a.bind(null,"4eab"))},i=function(){return a.e("components/empty").then(a.bind(null,"6e36"))},s={components:{uniLoadMore:o,empty:i},data:function(){return{src:"../static/nogoods.png",msg:"你还没有任何订单，看看其他的吧",tabCurrentIndex:0,navList:[{status:0,text:"全部",loadingType:"more",orderList:[]},{status:0,text:"待付款",loadingType:"more",orderList:[]},{status:1,text:"待发货",loadingType:"more",orderList:[]},{status:2,text:"待收货",loadingType:"more",orderList:[]},{status:3,text:"待评价",loadingType:"more",orderList:[]}],page:{current:1,pageSize:10},orderList:[]}},onLoad:function(t){this.tabCurrentIndex=+t.state,this.loadData("tabChange",0),0==t.state&&this.loadData()},methods:{loadData:function(t,e){var a=this,r=this.tabCurrentIndex,o=this.navList[r],i=o.status;if(("tabChange"!==t||!0!==o.loaded)&&"loading"!==o.loadingType){var s={orderType:0,pageNum:this.page.current,pageSize:this.page.pageSize,sourceType:1,status:e};n.default.post("/order/list",s).then(function(t){if("200"==t.data.code){var e=t.data.data.list;a.orderList=e.filter(function(t){return t=Object.assign(t,a.orderStateExp(t.status)),0===i?t:t.status===status}),a.orderList.forEach(function(t){o.orderList.push(t)}),a.$set(o,"loaded",!0),console.log(a.navList,77)}})}},changeTab:function(t){this.tabCurrentIndex=t.target.current,console.log(this.tabCurrentIndex,777),0==this.tabCurrentIndex||1==this.tabCurrentIndex?this.loadData("tabChange",0):this.loadData("tabChange",this.tabCurrentIndex-1)},tabClick:function(t){this.tabCurrentIndex=t,console.log(this.tabCurrentIndex,888)},evaluate:function(t){console.log(t)},againBuy:function(t){console.log(t)},cancelOrder:function(e){var a=this;t.showLoading({title:"请稍后"}),setTimeout(function(){var n=a.orderStateExp(9),r=n.stateTip,o=n.stateTipColor;e=Object.assign(e,{state:9,stateTip:r,stateTipColor:o});var i=a.navList[1].orderList,s=i.findIndex(function(t){return t.id===e.id});-1!==s&&i.splice(s,1),t.hideLoading()},600)},orderStateExp:function(t){var e="",a="#fa436a";switch(+t){case 0:e="待支付";break;case 1:e="待发货";break;case 2:e="待收货";break;case 3:e="待评价";break;case 5:e="";break;case 6:e="交易成功";break;case 7:e="已完成";break;case 9:e="订单已关闭",a="#909399";break}return{stateTip:e,stateTipColor:a}},orderDetails:function(e,a){console.log(e),3!=e.status&&t.navigateTo({url:"orderDetails?status="+e.status+"&id="+a})},logisticsTap:function(){t.navigateTo({url:"logistics"})}}};e.default=s}).call(this,a("543d")["default"])},5163:function(t,e,a){"use strict";var n=a("fc2c"),r=a.n(n);r.a},"7a0e":function(t,e,a){"use strict";(function(t){a("2458"),a("921b");n(a("66fd"));var e=n(a("87d6"));function n(t){return t&&t.__esModule?t:{default:t}}t(e.default)}).call(this,a("543d")["createPage"])},"87d6":function(t,e,a){"use strict";a.r(e);var n=a("c837"),r=a("a673c");for(var o in r)"default"!==o&&function(t){a.d(e,t,function(){return r[t]})}(o);a("5163");var i=a("2877"),s=Object(i["a"])(r["default"],n["a"],n["b"],!1,null,null,null);e["default"]=s.exports},a673c:function(t,e,a){"use strict";a.r(e);var n=a("50af"),r=a.n(n);for(var o in n)"default"!==o&&function(t){a.d(e,t,function(){return n[t]})}(o);e["default"]=r.a},c837:function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,n=(t._self._c,t.__map(t.navList,function(e,n){var r=a("d2ff");return{$orig:t.__get_orig(e),m0:r}}));t.$mp.data=Object.assign({},{$root:{l0:n}})},r=[];a.d(e,"a",function(){return n}),a.d(e,"b",function(){return r})},fc2c:function(t,e,a){}},[["7a0e","common/runtime","common/vendor"]]]);