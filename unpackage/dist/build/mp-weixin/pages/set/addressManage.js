(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/set/addressManage"],{"0340":function(t,e,a){"use strict";(function(t){a("2458"),a("921b");s(a("66fd"));var e=s(a("df7a"));function s(t){return t&&t.__esModule?t:{default:t}}t(e.default)}).call(this,a("543d")["createPage"])},"1cfa":function(t,e,a){},"52bd":function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement;t._self._c},n=[];a.d(e,"a",function(){return s}),a.d(e,"b",function(){return n})},"6cd9":function(t,e,a){},"741f":function(t,e,a){"use strict";var s=a("6cd9"),n=a.n(s);n.a},"912f":function(t,e,a){"use strict";var s=a("1cfa"),n=a.n(s);n.a},9363:function(t,e,a){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var s,n=d(a("38f8")),i=a("2f62");function d(t){return t&&t.__esModule?t:{default:t}}function o(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{},s=Object.keys(a);"function"===typeof Object.getOwnPropertySymbols&&(s=s.concat(Object.getOwnPropertySymbols(a).filter(function(t){return Object.getOwnPropertyDescriptor(a,t).enumerable}))),s.forEach(function(e){r(t,e,a[e])})}return t}function r(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}var u={components:{},data:function(){return{addressData:{addressLabel:"家庭",city:"武汉市",defaultStatus:1,detailAddress:"",id:"",memberId:"",name:"",phoneNumber:"",postCode:"430070",province:"湖北省",region:"洪山区"},address:"请选择所在地区",addressLabels:["家庭","公司","学校"],n:0,defaultStatus:!0,key:"GOUBZ-B3U3R-WEAWX-WE266-WZBW5-JIFUR",userId:"",show:!1,columns:["荟园1栋","荟园2栋","荟园3栋","荟园4栋","荟园5栋","荟园6栋"]}},computed:o({},(0,i.mapState)(["hasLogin","userInfo"])),onLoad:function(e){var a=this,s="添加收货地址";"edit"===e.type&&(s="编辑收货地址",this.addressData=JSON.parse(e.data),this.address=this.addressData.locationAddress,this.addressLabels.find(function(t,e){t==a.addressData.addressLabel&&(a.n=e)}),console.log(this.addressData,777)),this.manageType=e.type,t.setNavigationBarTitle({title:s}),this.id=this.$store.state.userInfo.id,this.addressData.memberId=this.id},methods:{addressClick:function(){this.show=!0},onCancel:function(){this.show=!1},onConfirm:function(t){console.log(t),this.address=t.detail.value,this.show=!1},changeList:function(t,e){this.n=e,this.addressData.addressLabel=t},switchChange:function(t){this.defaultStatus=t.detail,this.defaultStatus?this.addressData.defaultStatus=1:this.addressData.defaultStatus=0},chooseLocation:function(){var e=this;t.getLocation({type:"wgs84",geocode:!0,success:function(t){}}),t.chooseLocation({success:function(t){e.address=t.name;var a=t.latitude,n=t.longitude;s.reverseGeocoder({location:{latitude:a,longitude:n},success:function(t){this.addressData.province="",this.addressData.city="",this.addressData.region="",this.addressData.postCode=""}})}})},dropdownChange:function(t){console.log(t)},confirm:function(){var e=this;this.addressData.locationAddress=this.address;var a=this.addressData;a.name?/^(1[0-9])\d{9}$/.test(a.phoneNumber)?a.detailAddress?"edit"==this.manageType?n.default.post("/member/address/update/"+this.addressData.id,this.addressData).then(function(s){if(200==s.data.code){console.log(e.$api.prePage());var n=getCurrentPages(),i=n[n.length-2];i.$vm.refreshList(a,e.manageType),e.$api.msg("地址".concat("edit"==e.manageType?"修改":"添加","成功")),setTimeout(function(){t.navigateBack()},800)}else e.$api.msg("保存失败")}):n.default.post("/member/address/add",this.addressData).then(function(s){200==s.data.code&&(e.$api.prePage().$vm.refreshList(a,e.manageType),e.$api.msg("地址".concat("edit"==e.manageType?"修改":"添加","成功")),setTimeout(function(){t.navigateBack()},800))}):this.$api.msg("请填写门牌号信息"):this.$api.msg("请输入正确的手机号码"):this.$api.msg("请填写收货人姓名")}}};e.default=u}).call(this,a("543d")["default"])},de43:function(t,e,a){"use strict";a.r(e);var s=a("9363"),n=a.n(s);for(var i in s)"default"!==i&&function(t){a.d(e,t,function(){return s[t]})}(i);e["default"]=n.a},df7a:function(t,e,a){"use strict";a.r(e);var s=a("52bd"),n=a("de43");for(var i in n)"default"!==i&&function(t){a.d(e,t,function(){return n[t]})}(i);a("741f"),a("912f");var d=a("2877"),o=Object(d["a"])(n["default"],s["a"],s["b"],!1,null,null,null);e["default"]=o.exports}},[["0340","common/runtime","common/vendor"]]]);